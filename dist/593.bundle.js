(self.webpackChunksteltrek_project=self.webpackChunksteltrek_project||[]).push([[593],{593:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l(o.key),o)}}function l(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var c=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=s({darkMode:!0,animations:!0,soundEffects:!0},t),this.state={menuOpen:!1,currentPanel:"main",notifications:[],activeModals:[]},this.cacheElements(),this.setupEventListeners(),this.initializeEffects(),console.log("Training UI initialized")},t=[{key:"cacheElements",value:function(){this.navToggle=document.getElementById("nav-toggle"),this.sideNav=document.getElementById("side-navigation"),this.navOverlay=document.getElementById("nav-overlay"),this.panels=document.querySelectorAll(".panel"),this.panelNavButtons=document.querySelectorAll("[data-panel-nav]"),this.modals=document.querySelectorAll(".modal"),this.modalTriggers=document.querySelectorAll("[data-modal]"),this.modalCloseButtons=document.querySelectorAll(".close-modal"),this.tooltipTriggers=document.querySelectorAll("[data-tooltip]"),this.notificationContainer=document.getElementById("notification-container"),this.themeToggle=document.getElementById("theme-toggle"),this.animationsToggle=document.getElementById("animations-toggle"),this.soundToggle=document.getElementById("sound-toggle"),this.helpIcon=document.getElementById("help-icon"),this.exerciseCards=document.querySelectorAll(".exercise-card"),this.progressCharts=document.querySelectorAll(".progress-chart")}},{key:"setupEventListeners",value:function(){var e=this;this.navToggle&&this.navToggle.addEventListener("click",(function(){return e.toggleNavigation()})),this.navOverlay&&this.navOverlay.addEventListener("click",(function(){return e.closeNavigation()})),this.panelNavButtons.forEach((function(t){t.addEventListener("click",(function(){var n=t.dataset.panelNav;e.changePanel(n)}))})),this.modalTriggers.forEach((function(t){t.addEventListener("click",(function(){var n=t.dataset.modal;e.openModal(n)}))})),this.modalCloseButtons.forEach((function(t){t.addEventListener("click",(function(t){var n=t.target.closest(".modal");n&&e.closeModal(n.id)}))})),this.modals.forEach((function(t){t.addEventListener("click",(function(n){n.target===t&&e.closeModal(t.id)}))})),this.tooltipTriggers.forEach((function(t){t.addEventListener("mouseenter",(function(){return e.showTooltip(t)})),t.addEventListener("mouseleave",(function(){return e.hideTooltip(t)}))})),this.themeToggle&&this.themeToggle.addEventListener("click",(function(){return e.toggleTheme()})),this.animationsToggle&&this.animationsToggle.addEventListener("click",(function(){return e.toggleAnimations()})),this.soundToggle&&this.soundToggle.addEventListener("click",(function(){return e.toggleSoundEffects()})),this.helpIcon&&this.helpIcon.addEventListener("click",(function(){return e.showHelp()})),this.exerciseCards.forEach((function(t){t.addEventListener("click",(function(){e.handleExerciseCardClick(t)}))})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.closeAllModals()})),window.addEventListener("resize",(function(){return e.handleResize()}))}},{key:"initializeEffects",value:function(){this.applyTheme(),this.initializeProgressCharts(),this.initializeTooltips(),this.options.animations&&this.initializeParticleEffects(),this.options.soundEffects&&this.initializeSoundEffects()}},{key:"toggleNavigation",value:function(){this.state.menuOpen?this.closeNavigation():this.openNavigation()}},{key:"openNavigation",value:function(){this.sideNav&&(this.sideNav.classList.remove("-translate-x-full"),this.navOverlay&&this.navOverlay.classList.remove("opacity-0","pointer-events-none"),this.state.menuOpen=!0,this.options.soundEffects&&this.playSound("navigation"))}},{key:"closeNavigation",value:function(){this.sideNav&&(this.sideNav.classList.add("-translate-x-full"),this.navOverlay&&this.navOverlay.classList.add("opacity-0","pointer-events-none"),this.state.menuOpen=!1)}},{key:"changePanel",value:function(e){var t=document.getElementById(e);t&&(this.panels.forEach((function(e){e.classList.add("hidden")})),t.classList.remove("hidden"),this.panelNavButtons.forEach((function(t){t.dataset.panelNav===e?(t.classList.add("bg-blue-900/30","border-blue-500"),t.classList.remove("border-gray-700")):(t.classList.remove("bg-blue-900/30","border-blue-500"),t.classList.add("border-gray-700"))})),this.state.currentPanel=e,this.options.soundEffects&&this.playSound("panel-change"))}},{key:"openModal",value:function(e){var t=document.getElementById(e);if(t){if(t.classList.remove("hidden"),this.options.animations){var n=t.querySelector(".modal-content");n&&(n.classList.add("animate-modal-in"),setTimeout((function(){n.classList.remove("animate-modal-in")}),300))}this.state.activeModals.push(e),this.options.soundEffects&&this.playSound("modal-open")}}},{key:"closeModal",value:function(e){var t=document.getElementById(e);if(t){if(this.options.animations){var n=t.querySelector(".modal-content");n?(n.classList.add("animate-modal-out"),setTimeout((function(){t.classList.add("hidden"),n.classList.remove("animate-modal-out")}),200)):t.classList.add("hidden")}else t.classList.add("hidden");this.state.activeModals=this.state.activeModals.filter((function(t){return t!==e})),this.options.soundEffects&&this.playSound("modal-close")}}},{key:"closeAllModals",value:function(){var e=this;(function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(this.state.activeModals).forEach((function(t){e.closeModal(t)}))}},{key:"showTooltip",value:function(e){var t=e.dataset.tooltip;if(t){var n=e.querySelector(".tooltip");n||((n=document.createElement("div")).className="tooltip absolute z-50 bg-gray-900 text-white text-xs px-2 py-1 rounded pointer-events-none transform -translate-y-full -translate-x-1/2 left-1/2 -mt-1 opacity-0 transition-opacity duration-200",n.textContent=t,e.style.position="relative",e.appendChild(n)),setTimeout((function(){n.classList.remove("opacity-0")}),10)}}},{key:"hideTooltip",value:function(e){var t=e.querySelector(".tooltip");t&&(t.classList.add("opacity-0"),setTimeout((function(){t.parentNode===e&&e.removeChild(t)}),200))}},{key:"toggleTheme",value:function(){if(this.options.darkMode=!this.options.darkMode,this.applyTheme(),this.themeToggle){var e=this.themeToggle.querySelector("i");e&&(e.className=this.options.darkMode?"fas fa-sun":"fas fa-moon"),this.themeToggle.title=this.options.darkMode?"Switch to Light Mode":"Switch to Dark Mode"}this.savePreferences(),this.options.soundEffects&&this.playSound("toggle")}},{key:"applyTheme",value:function(){this.options.darkMode?(document.documentElement.classList.add("dark"),document.body.classList.add("bg-gray-900","text-white"),document.body.classList.remove("bg-white","text-gray-900")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("bg-gray-900","text-white"),document.body.classList.add("bg-white","text-gray-900"))}},{key:"toggleAnimations",value:function(){this.options.animations=!this.options.animations,this.options.animations?(document.body.classList.remove("reduce-motion"),this.animationsToggle&&(this.animationsToggle.textContent="Animations: On"),this.initializeParticleEffects()):(document.body.classList.add("reduce-motion"),this.animationsToggle&&(this.animationsToggle.textContent="Animations: Off"),this.removeParticleEffects()),this.savePreferences(),this.options.soundEffects&&this.playSound("toggle")}},{key:"toggleSoundEffects",value:function(){if(this.options.soundEffects=!this.options.soundEffects,this.soundToggle){var e=this.soundToggle.querySelector("i");e&&(e.className=this.options.soundEffects?"fas fa-volume-up":"fas fa-volume-mute"),this.soundToggle.title=this.options.soundEffects?"Mute Sound Effects":"Enable Sound Effects"}this.savePreferences(),this.options.soundEffects&&this.playSound("toggle")}},{key:"savePreferences",value:function(){try{localStorage.setItem("sharedStars_uiPreferences",JSON.stringify({darkMode:this.options.darkMode,animations:this.options.animations,soundEffects:this.options.soundEffects}))}catch(e){console.warn("Failed to save preferences to localStorage",e)}}},{key:"loadPreferences",value:function(){try{var e=localStorage.getItem("sharedStars_uiPreferences");if(e){var t,n,o,i=JSON.parse(e);if(this.options.darkMode=null!==(t=i.darkMode)&&void 0!==t?t:this.options.darkMode,this.options.animations=null!==(n=i.animations)&&void 0!==n?n:this.options.animations,this.options.soundEffects=null!==(o=i.soundEffects)&&void 0!==o?o:this.options.soundEffects,this.applyTheme(),this.options.animations||document.body.classList.add("reduce-motion"),this.themeToggle){var s=this.themeToggle.querySelector("i");s&&(s.className=this.options.darkMode?"fas fa-sun":"fas fa-moon")}if(this.animationsToggle&&(this.animationsToggle.textContent="Animations: ".concat(this.options.animations?"On":"Off")),this.soundToggle){var a=this.soundToggle.querySelector("i");a&&(a.className=this.options.soundEffects?"fas fa-volume-up":"fas fa-volume-mute")}}}catch(e){console.warn("Failed to load preferences from localStorage",e)}}},{key:"initializeProgressCharts",value:function(){this.progressCharts.forEach((function(e){var t=e.dataset.chartType||"line",n=JSON.parse(e.dataset.chartData||"[]"),o=JSON.parse(e.dataset.chartOptions||"{}");window.Chart?new Chart(e,{type:t,data:n,options:s({responsive:!0,maintainAspectRatio:!1},o)}):(console.warn("Chart.js not available. Charts will not be rendered."),e.innerHTML='<div class="p-4 text-center text-gray-400">Chart visualization unavailable</div>')}))}},{key:"initializeParticleEffects",value:function(){this.options.animations&&window.particlesJS&&particlesJS("particles-js",{particles:{number:{value:30,density:{enable:!0,value_area:800}},color:{value:"#3b82f6"},shape:{type:"circle",stroke:{width:0,color:"#000000"}},opacity:{value:.2,random:!0,anim:{enable:!0,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:"#3b82f6",opacity:.1,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0}},retina_detect:!0})}},{key:"removeParticleEffects",value:function(){var e=document.getElementById("particles-js");e&&(e.innerHTML="")}},{key:"initializeTooltips",value:function(){}},{key:"initializeSoundEffects",value:function(){this.sounds={navigation:new Audio("/sounds/navigation.mp3"),"modal-open":new Audio("/sounds/modal-open.mp3"),"modal-close":new Audio("/sounds/modal-close.mp3"),"panel-change":new Audio("/sounds/panel-change.mp3"),toggle:new Audio("/sounds/toggle.mp3"),success:new Audio("/sounds/success.mp3"),error:new Audio("/sounds/error.mp3"),notification:new Audio("/sounds/notification.mp3"),"exercise-complete":new Audio("/sounds/exercise-complete.mp3")},Object.values(this.sounds).forEach((function(e){e.load(),e.volume=.5}))}},{key:"playSound",value:function(e){if(this.options.soundEffects&&this.sounds&&this.sounds[e]){var t=this.sounds[e].cloneNode();t.volume=.5,t.play().catch((function(e){console.warn("Sound playback failed:",e)}))}}},{key:"showNotification",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;this.notificationContainer||(this.notificationContainer=document.createElement("div"),this.notificationContainer.id="notification-container",this.notificationContainer.className="fixed bottom-4 right-4 z-50 flex flex-col-reverse gap-2",document.body.appendChild(this.notificationContainer));var i=document.createElement("div");i.className="transform transition-all duration-300 translate-x-full max-w-sm rounded-lg shadow-lg p-4 ".concat("success"===n?"bg-green-900/80 border border-green-500/30 text-green-100":"warning"===n?"bg-yellow-900/80 border border-yellow-500/30 text-yellow-100":"error"===n?"bg-red-900/80 border border-red-500/30 text-red-100":"bg-blue-900/80 border border-blue-500/30 text-blue-100"),i.innerHTML='\n        <div class="flex items-start">\n          <div class="flex-shrink-0 mr-3">\n            <i class="'.concat("success"===n?"fas fa-check-circle text-green-400":"warning"===n?"fas fa-exclamation-triangle text-yellow-400":"error"===n?"fas fa-times-circle text-red-400":"fas fa-info-circle text-blue-400",'"></i>\n          </div>\n          <div>\n            <p>').concat(e,'</p>\n          </div>\n          <button class="ml-auto -mr-2 text-gray-400 hover:text-white">\n            <i class="fas fa-times"></i>\n          </button>\n        </div>\n      '),this.notificationContainer.appendChild(i),i.querySelector("button").addEventListener("click",(function(){t.removeNotification(i)}));var s=setTimeout((function(){t.removeNotification(i)}),o);return this.state.notifications.push({element:i,timeout:s}),setTimeout((function(){i.classList.remove("translate-x-full")}),10),this.options.soundEffects&&this.playSound("success"===n?"success":"error"===n?"error":"notification"),i}},{key:"removeNotification",value:function(e){var t=this;e.classList.add("translate-x-full");var n=this.state.notifications.findIndex((function(t){return t.element===e}));-1!==n&&(clearTimeout(this.state.notifications[n].timeout),this.state.notifications.splice(n,1)),setTimeout((function(){e.parentNode===t.notificationContainer&&t.notificationContainer.removeChild(e)}),300)}},{key:"handleResize",value:function(){window.innerWidth<768&&this.state.menuOpen&&this.closeNavigation(),this.adjustUIForScreenSize()}},{key:"adjustUIForScreenSize",value:function(){var e=window.innerWidth<768;window.innerWidth>=768&&window.innerWidth,this.progressCharts.forEach((function(e){e.chart&&e.chart.resize()})),this.modals.forEach((function(t){var n=t.querySelector(".modal-content");n&&(e?(n.classList.add("max-w-full","mx-4"),n.classList.remove("max-w-2xl")):(n.classList.add("max-w-2xl"),n.classList.remove("max-w-full","mx-4")))})),this.exerciseCards.forEach((function(t){e?(t.classList.add("flex-col"),t.classList.remove("flex-row")):(t.classList.add("flex-row"),t.classList.remove("flex-col"))}))}},{key:"handleExerciseCardClick",value:function(e){var t=e.dataset.exerciseId;if(t&&window.trainingModule){var n,o={id:t,name:(null===(n=e.querySelector(".exercise-name"))||void 0===n?void 0:n.textContent)||"Exercise",zone:e.dataset.exerciseZone||"default",duration:parseInt(e.dataset.exerciseDuration||"180",10)};window.trainingModule.showExerciseDetails(o)}}},{key:"showHelp",value:function(){this.openModal("help-modal")}},{key:"updateExerciseProgress",value:function(e,t){var n=document.querySelector('.exercise-card[data-exercise-id="'.concat(e,'"]'));if(n){var o=n.querySelector(".progress-bar .progress-fill");o&&(o.style.width="".concat(t,"%"));var i=n.querySelector(".progress-text");if(i&&(i.textContent="".concat(Math.round(t),"%")),t>=100){n.classList.add("completed");var s=n.querySelector(".completion-badge");s&&s.classList.remove("hidden")}}}},{key:"updateModuleProgress",value:function(e){var t=document.getElementById("module-progress-bar");if(t){var n=t.querySelector(".progress-fill");n&&(n.style.width="".concat(e,"%"))}var o=document.getElementById("module-progress-text");o&&(o.textContent="".concat(Math.round(e),"%"))}},{key:"updateCredits",value:function(e){var t=document.getElementById("credits-earned");t&&(t.textContent=e,t.classList.add("pulse-highlight"),setTimeout((function(){t.classList.remove("pulse-highlight")}),1e3))}},{key:"updateMetrics",value:function(e){Object.entries(e).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,s,a,r=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=s.call(n)).done)&&(r.push(o.value),r.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return r}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=t[0],i=t[1],s=document.getElementById("metric-".concat(o));s&&(s.textContent=i,s.classList.add("pulse-highlight"),setTimeout((function(){s.classList.remove("pulse-highlight")}),1e3))}))}},{key:"updateSTELLAGuidance",value:function(e){var t=document.getElementById("stella-guidance");if(t&&e&&e.message){var n=e.actionItems&&e.actionItems.length?'<ul class="mt-2 space-y-1">\n                '.concat(e.actionItems.map((function(e){return'<li class="text-xs text-blue-200">â€¢ '.concat(e,"</li>")})).join(""),"\n              </ul>"):"";t.innerHTML='\n            <div class="bg-blue-500/10 rounded-lg p-3">\n              <p class="text-sm text-blue-300">'.concat(e.message,"</p>\n              ").concat(n,"\n            </div>\n          "),t.classList.add("fade-in"),setTimeout((function(){t.classList.remove("fade-in")}),1e3),this.options.soundEffects&&this.playSound("notification")}}}],t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.addEventListener("DOMContentLoaded",(function(){var e={};try{var t=localStorage.getItem("sharedStars_uiPreferences");t&&(e=JSON.parse(t))}catch(e){console.warn("Failed to load UI preferences",e)}window.trainingUI=new c(e),window.trainingUI.loadPreferences(),console.log("Training UI initialized with options:",e)})),e.exports?e.exports=c:window.TrainingUI=c}}]);